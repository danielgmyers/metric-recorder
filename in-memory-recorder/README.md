This package provides an in-memory `MetricRecorder` implementation. This is primarily useful during unit tests to validate metrics generated by the code under test.

Prerequisites
-------------

`InMemoryMetricRecorder` is self-contained and has no additional dependencies.

Initializing
------------

Initializing an `InMemoryMetricRecorderFactory` is simple:

```java
package example;

import com.danielgmyers.metrics.MetricRecorderFactory;
import com.danielgmyers.metrics.recorders.InMemoryMetricRecorderFactory;

public class Example {
    private MetricRecorderFactory factory;
    
    public Example() {
        factory = new InMemoryMetricRecorderFactory();
    }
}
```

Validating metrics in Tests
---------------------------

During unit testing, you should usually not use the actual `InMemoryMetricRecorderFactory`. Instead, assuming the class under test takes a `MetricRecorderFactory` as one of its constructor arguments, you will likely want to do something like this:

```java
import com.danielgmyers.metrics.recorders.InMemoryMetricRecorder;

public class MyTest {

    @Test
    public void testThing() {
        InMemoryMetricRecorder metricRecorder = new InMemoryMetricRecorder("test");
        
        // We'll use a lambda as a pretend MetricRecorderFactory, so it hands out our metric recorder.
        WidgetManager wm = new WidgetManager((o) -> metricRecorder);
        
        wm.doThingBeingTested();
        
        Assertions.assertTrue(metricRecorder.isClosed());
        Assertions.assertEquals(1, metricRecorder.getCounts("DatabaseLookupCount"));
        // etc
    }
}
```

`InMemoryMetricRecorder` provides lookup methods for each of the supported metric types.
